<!DOCTYPE html>
<html lang="ja">
<html class="no-js" lang="">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>ousen_sj</title>
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/jquery.fancybox.css">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/responsive.css">
<link rel="stylesheet" href="css/animate.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<script src="/socket.io/socket.io.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.js"></script>
</head>
<body>
<script>
<!-- サーバー側とつなぐため -->
var socket = io();

$(function() {
	<!-- 送信されたときの処理  -->
	$('form').submit(function() {
		<!-- メッセージを取得 -->
		var mensaje = $('#msj').val();

		<!-- メッセージがなければ終了 -->
		if (mensaje === '') return false;

		<!-- メッセージを送信 -->
		socket.emit('message', mensaje);

		<!-- メッセージの中身を空にしえフォーカスする -->
		$('#msj').val('').focus();
		return false;
	});

	<!-- チャンネルを変えた時の処理 -->
	$('#channel').on('change', function() {
		<!-- チャンネル変更する -->
		//socket.emit('change channel', $('#channel').val());
	});
});

<!--ここで作ったイベント名でサーバーサイドの処理を紐付ける-->
socket.on('welcome', function() {
	<!-- 取得したメッセージをulに追加 -->
	$('#message').append($('<li>').text('ようこそ！！'));
});

socket.on('user cnt', function(cnt) {
	<!-- 取得したメッセージをulに追加 -->
	$('#user_cnt p').html('').text("(A :" + cnt.a +"人) (B :" + cnt.b + "人)");
});

socket.on('message', function(msj, id) {
	<!-- 取得したメッセージをulに追加 -->
	$('#message').append($('<li>').text(id + " : " + msj));
});

socket.on('change channel', function(channel) {
	<!-- チャンネルが変わったことをメッセージで表示 -->
	$('#message').html('').append($('<li>').text('「チャンネル' + channel + '」に変更されました!'));
});

socket.on('get id', function(id) {
	<!-- チャンネルが変わったことをメッセージで表示 -->
	$('#user_name p').html('').text(id);
});
</script>

<section class="banner" role="banner">
	<header id="header">
		<!-- navigation section  -->
		<div class="header-content clearfix"> <a class="logo" href="#">sujo.jp</a>
			<nav class="navigation" role="navigation">
				<ul class="primary-nav">
					<li><a href="#inner-description">About Me</a></li>
					<li><a href="#works">works</a></li>
					<li><a href="#hireme">Contact</a></li>
					<li><a href="#">hatena blog</a></li>
				</ul>
			</nav>
			<a href="#" class="nav-toggle">Menu<span></span></a> </div>
		<!-- navigation section  -->
	</header>

	<!-- banner text -->
	<div class="container">
		<div class="col-md-10 col-md-offset-1">
			<div class="banner-text text-center">
				<h1>数理情報工学科 神輿</h1>
				<!-- banner text -->
			</div>
		</div>
	</div>

</section>



  <div id="info">
    <div id="user_name">あなたのID&nbsp;:&nbsp;<p></p></div>
    <div id="user_cnt">アクティブユーザ&nbsp;:&nbsp;<p></p></div>
  </div>
  <ul id="message"></ul>
  <div id="controls">
    <form action="">
    <select name="channel" id="channel">
      <option value="A">チャンネルA</option>
      <option value="B">チャンネルB</option>
    </select>
    <input type="text" id="msj" placeholder="メッセージを入力してください...">
    <input type="submit" id="btn" value="送信">
    </form>
 </div>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
 <script src="js/bootstrap.min.js"></script>
 <script src="js/jquery.fancybox.pack.js"></script>
 <script src="js/jquery.waypoints.min.js"></script>
 <script src="js/retina.min.js"></script>
 <script src="js/modernizr.js"></script>
 <script src="js/main.js"></script>
</body>
</html>
